!function(c,I){"use strict";var h="ht",k=h+".graph.",G=c[h],i=G.graph,w=G.Default,a=G.Color,z=null,x="px",P=w.getInternal(),Y=P.getPinchDist,F=w.preventDefault,Q=w.getTouchCount,v=w.startDragging;P.addMethod(w,{overviewBackground:a.widgetBackground,overviewMaskBackground:a.transparent,overviewContentBorderColor:a.widgetBorder,overviewContentBackground:a.background},!0),i.Overview=function(G){var T=this,Z=T._view=P.createView(1,T);T._canvas=P.createCanvas(Z),Z.style.background=w.overviewBackground,Z.appendChild(T._mask=P.createDiv()),T.setGraphView(G),T.addListeners()},w.def(k+"Overview",I,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:w.overviewMaskBackground,_contentBorderColor:w.overviewContentBorderColor,_contentBackground:w.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(N){var b=this;if(b.gv!==N){var l=b.gv;b.gv=N,l&&(l.removeViewListener(b.handleGraphViewChanged,b),l.ump(b.handleGraphViewPropertyChanged,b)),N&&(N.addViewListener(b.handleGraphViewChanged,b),N.mp(b.handleGraphViewPropertyChanged,b)),b.fp("graphView",l,N),b.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(T){this._autoUpdate&&"validate"===T.kind&&this.redraw()},handleGraphViewPropertyChanged:function(L){("canvasBackground"===L.property||this.getFixToRect()&&("zoom"===L.property||"translateX"===L.property||"translateY"===L.property))&&this.redraw()},redraw:function(){var F=this;F._redraw||(F._redraw=1,F.iv(50))},validateImpl:function(){var Y=this,R=Y.gv,S=Y._canvas,s=Y.getWidth(),y=Y.getHeight(),F=Y._redraw;if(R){var G=Y._mask,l=G.style,c=R.getViewRect(),T=this.getFixToRect(),J=T?"boolean"==typeof T?R.getContentRect():T:R.getScrollRect(),K=J.x,D=J.y,a=J.width,k=J.height,e=Y._rate=Math.max(a/s,k/y),t=Y._x=(s-a/e)/2,n=Y._y=(y-k/e)/2;if(0!==c.width&&0!==c.height||Y.hasRetry||(w.callLater(Y.iv,Y,z),Y.hasRetry=!0),(s!==S.clientWidth||y!==S.clientHeight)&&(P.setCanvas(S,s,y),F=1),P.isSameRect(J,Y._scrollRect)||(Y._scrollRect=J,F=1),F){var C=P.initContext(S),b=R.getDataModel(),N=b.getBackground()||Y._contentBackground,r=Y._contentBorderColor,p=w.devicePixelRatio;C.clearRect(0,0,s*p,y*p);var j=b.getBackground()&&b.a("width")>0&&b.a("height")>0;N&&!j&&P.fillRect(C,t*p,n*p,a/e*p,k/e*p,N),P.translateAndScale(C,-K/e+t,-D/e+n,1/e),R._42(C),C.restore(),r&&P.drawBorder(C,r,t*p,n*p,a/e*p,k/e*p)}l.background=Y._maskBackground,l.left=t+(c.x-K)/e+x,l.top=n+(c.y-D)/e+x,l.width=c.width/e+x,l.height=c.height/e+x,Y._redraw=null}else if(F){var C=P.initContext(S);C.clearRect(0,0,s,y),C.restore(),Y._redraw=null}},center:function(E){var u=this,J=u.gv;if(J){var y=J._zoom,o=J._29I,M=u._rate,G=u._scrollRect,k=w.getLogicalPoint(E,u._canvas),T=G.x+(k.x-u._x)*M,f=G.y+(k.y-u._y)*M;J.setTranslate((o.width/2-T)*y,(o.height/2-f)*y)}},handle_mousedown:function(X){this.handle_touchstart(X)},handleWindowMouseUp:function(q){this.handleWindowTouchEnd(q)},handleWindowMouseMove:function(v){this.handleWindowTouchMove(v)},handle_mousewheel:function(F){this.handleScroll(F,F.wheelDelta)},handle_DOMMouseScroll:function(V){2===V.axis&&this.handleScroll(V,-V.detail)},handleScroll:function(n,R){if(F(n),this.gv){var $=this.gv;R>0?$.scrollZoomIn():0>R&&$.scrollZoomOut()}},handle_touchstart:function(L){if(F(L),this.gv&&w.isLeftButton(L)){var H=this,J=H.gv,B=Q(L);1===B?w.isDoubleClick(L)&&J.isResettable()?J.reset():(H.center(L),v(H,L)):2===B&&(H._dist=Y(L),v(H,L))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(x){if(this.gv){var S=this,P=S._dist,V=Q(x);1===V?S.center(x):2===V&&P!=z&&S.gv.handlePinch(z,Y(x),P)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);