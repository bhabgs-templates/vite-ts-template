!function(t,F){"use strict";var M="ht",l=t[M],X="px",W="left",S="top",T="bottom",h="right",B="innerHTML",U="className",I="",c="width",K="height",e="string",x="position",k="absolute",C="0",p="opacity",y="background",Y=l.Default,u=Y.getInternal(),O=l.Color,a=Y.animate,V=Y.isTouchable,m=Y.isTouchEvent,q=null,i=(Math.sqrt,t.parseInt),$=t.setTimeout,D=(Math.round,O.titleIconBackground),L=function(V){return typeof V===e||V instanceof String},r=function(){return document},n=function(I){return r().createElement(I)},G=function(){var c=n("div");return c.tabIndex=-1,c.style.outline="none",c},z=function(){return n("canvas")},v=function(o,p){s(o,"-webkit-transform",p),s(o,"-ms-transform",p),s(o,"transform",p)},s=function(C,V,o){C.style.setProperty(V,o,q)},d=function(U,w,R){Y.def(l.widget[U],w,R)},H=function(b,e){b.appendChild(e)},w=function(){return r().documentElement},o=function(){return w().clientWidth},j=function(){return w().clientHeight},J=u.addEventListener,_=u.removeEventListener,N=function(C){var y=C.touches[0];return y?y:C.changedTouches[0]};u.addMethod(Y,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:D},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:D}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:D},{type:"rect",rect:[10,10,80,20],background:D}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:D},{type:"rect",rect:[10,34,56,14],background:D},{type:"rect",rect:[34,10,56,14],background:D},{type:"rect",rect:[82,10,8,56],background:D},{type:"rect",rect:[66,62,24,8],background:D}]},dialogTitleLabelColor:Y.labelSelectColor,dialogTitleLabelFont:(V?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Y.labelFont,dialogTitleBackground:O.titleBackground,dialogHeaderBackground:O.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var f=function(q){var r=this;r.$1d=q,r.addListeners()};Y.def(f,F,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(Z){var O=this,_=O.$1d,k=_.$6d,i=_._config,r=_.$7d,Q=Z,l=Z.target;if(r.contains(l)||Y.preventDefault(Z),Y.isLeftButton(Z)){m(Z)&&(Q=N(Z));var C=O.$8d={x:Q.pageX,y:Q.pageY};O.$9d={x:C.x,y:C.y},!i.maximized&&i.draggable&&k.contains(l)&&(O.$4d=!0,Y.startDragging(O,Z)),O.handle_mousemove(Z)&&(O.$2d=!0,Y.startDragging(O,Z)),r.contains(Z.target)||_.$41d.focus()}},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchend:function($){if(Y.isLeftButton($)&&!this.$5d&&!this.$3d){var D=this,c=D.$1d,F=$.target,x=c._config,l=c.$18d,T=c.$16d;for(x.closable&&l.contains(F)&&c.hide(),x.maximizable&&T.contains(F)&&(x.maximized?c.restore():c.maximize());F&&(F.className||"").indexOf("dialog-button")<0;)F=F.parentNode;F&&F.buttonItem&&c.action&&c.action(F.buttonItem,$),delete D.$8d,delete D.$9d}},handle_mouseup:function(L){this.handle_touchend(L)},handleWindowTouchEnd:function(d){var X=this,V=X.$1d,Y=V.$10d;X.$2d&&X.$3d?Y.fire({kind:"endResize",target:V,originEvent:d}):X.$4d&&X.$5d&&Y.fire({kind:"endMove",target:V,originEvent:d}),this.clear()},handleWindowMouseUp:function(_){this.handleWindowTouchEnd(_)},handle_mousemove:function(p){var g=this.$1d._config;if(g.maximized)return!1;if("w"!==g.resizeMode&&"h"!==g.resizeMode&&"wh"!==g.resizeMode)return!1;var v=this,e=v.getView(),W=e.querySelector(".resize-area"),F=W.getBoundingClientRect(),c={x:F.left,y:F.top,width:F.width,height:F.height};p=m(p)?N(p):p;var b=p.clientX,h=p.clientY,Q={x:b,y:h};return Y.containsPoint(c,Q)?(s(e,"cursor","nwse-resize"),!0):(s(e,"cursor",I),void 0)},handleWindowTouchMove:function(F){F.preventDefault();var t=F;m(F)&&(t=N(F));var T=this,h=T.$8d,d=T.$9d;if(!(d.x==h.x&&d.y==h.y&&Y.getDistance(d,{x:t.pageX,y:t.pageY})<=1)){var U=T.$1d,k=U._config,K=U.$21d,A=k.resizeMode||"wh",Z=t.pageX-h.x,L=t.pageY-h.y;if(T.$2d){var b=K.offsetWidth,u=K.offsetHeight,B=b+Z,g=u+L;if(B=Math.max(B,50),g=Math.max(g,50),"center"===k.position||k.position==q){var C={},M=K.getBoundingClientRect();C.x=M.left,C.y=M.top,k.position=C}"w"===A?(U.setSize(B,u),h.x+=B-b):"h"===A?(U.setSize(b,g),h.y+=g-u):"wh"===A&&(U.setSize(B,g),h.x+=B-b,h.y+=g-u),T.$3d?U.$10d.fire({kind:"betweenResize",target:U,originEvent:F}):(T.$3d=!0,U.$10d.fire({kind:"beginResize",target:U,originEvent:F}))}else if(T.$4d){var D=K.getBoundingClientRect(),v=D.width,Q=D.height,w=o(),c=j(),H=i(K.style.left)||0,a=i(K.style.top)||0,r=H+Z,$=a+L,E=U.adjustPosition({x:r,y:$},{width:v,height:Q},{width:w,height:c});E&&(r=E.x,$=E.y);var x=r-H,p=$-a;s(K,W,r+X),s(K,S,$+X),h.x+=x,h.y+=p,k.position={x:r,y:$},T.$5d?U.$10d.fire({kind:"betweenMove",target:U,originEvent:F}):(T.$5d=!0,U.$10d.fire({kind:"beginMove",target:U,originEvent:F}))}}},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)},handleWindowResize:function(){var x=this,Y=x,q=Y._config,l=Y.$21d,_=o(),b=j(),e=q.width,v=q.height,r=q.position||"center";q.maximized?(s(l,c,_+X),s(l,K,b+X),s(l,S,C),s(l,W,C)):(s(l,c,e+X),s(l,K,v+X),"center"===r?(s(l,W,(_-e)/2+X),s(l,S,(b-v)/2+X)):(s(l,W,r.x+X),s(l,S,r.y+X))),Y.iv()},handle_mousewheel:function(f){f.stopPropagation()},handle_DOMMouseScroll:function(n){n.stopPropagation()}}),l.widget.Dialog=function(T){var p=this,X=p._view=u.createView(null,p);X[U]="ht-widget-dialog",s(X,x,k),Y.baseZIndex!=q&&s(X,"z-index",Y.baseZIndex+"");var L=p.$11d=new f(p);p.bindingHandleWindowResize=L.handleWindowResize.bind(p),p.$10d=new l.Notifier,T&&p.setConfig(T)},d("Dialog",F,{ms_v:1,ms_fire:1,setTitle:function(B){this._config.title=B,this.getView().querySelector(".dialog-container-title span").innerHTML=B},clearNodes:function(g){if(g)for(;g.firstChild;)g.removeChild(g.firstChild)},$31d:function(){var E=this,l=E.$6d=G(),q=E._config,k=E.$12d=E.$13d();l[U]="dialog-container-title",s(l,"cursor","default"),s(l,"white-space","nowrap"),s(l,"overflow","hidden"),s(l,"font",Y.dialogTitleLabelFont),s(l,y,q.titleBackground||Y.dialogTitleBackground),s(l,"color",q.titleColor||Y.dialogTitleLabelColor);var C=n("span"),I=E.$25d();if(q.titleAlign&&s(l,"text-align",q.titleAlign),q.titleIcon){var m=E.$14d=E.$15d();H(l,m)}if(q.title&&q.title.trim&&(q.title=q.title.trim()),C[B]=q.title||"&nbsp;",H(l,C),q.maximizable){var o=E.$16d=E.$17d();H(k,o)}if(q.closable){var r=E.$18d=E.$19d();H(k,r)}return H(l,k),s(l,"display","block"),s(l,"line-height",I+X),l},$13d:function(){var F=G();return s(F,x,k),s(F,W,C),s(F,h,5+X),s(F,S,C),s(F,T,C),s(F,"text-align",h),s(F,"white-space","nowrap"),F[U]="dialog-title-controls",F},$20d:function(){var J=this.$21d=G(),E=this._config,i=E.borderWidth;return s(J,x,"fixed"),s(J,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),s(J,"padding",C+" "+i+X+" "+i+X+" "+i+X),s(J,"box-sizing","border-box"),s(J,"-moz-box-sizing","border-box"),J[U]="dialog-container",s(J,y,E.titleBackground||Y.dialogTitleBackground),J},$22d:function(){var V,p=this,i=p._config,J=p.$7d=G(),z=i.content,f=0,R=i.contentPadding||0;i.buttons!=q&&i.buttons.length>0&&(f=32),L(z)?J[B]=z:z.getView?(V=z.getView(),H(J,V)):(V=z,H(J,V)),s(J,x,k),s(J,"font",Y.dialogContentLabelFont),l.Default.appendToScreen(J);var D=J.offsetWidth+1,Z=J.offsetHeight,P=p.$25d();return i.width==q&&(i.width=D+10+2*R),i.height==q&&(i.height=Z+P+f+5+2*R),l.Default.removeHTML(J),V&&(s(V,"box-sizing","border-box"),s(V,"-moz-box-sizing","border-box"),s(V,c,"100%"),s(V,K,"100%")),J[U]="dialog-content",s(J,S,P+R+X),s(J,T,f+R+X),s(J,W,R+X),s(J,h,R+X),s(J,"overflow","hidden"),J},getOverlayDiv:function(){return this.$41d},$23d:function(){var r=this.$41d=G();return r[U]="dialog-overlay",s(r,c,"100%"),s(r,K,"100%"),s(r,x,"fixed"),s(r,S,C),s(r,W,C),s(r,y,"rgba(235, 235, 235, 0.7)"),r},_config:q,setSize:function(H,n){var _=this,m=_._config;m&&(m.width=H,m.height=n,_.isShowing()&&(_.bindingHandleWindowResize(),_.iv()))},getConfig:function(){return this._config},$24d:function(){var j=this._config,X=j.titleIconSize||16;return V&&(X*=1.2),X},$25d:function(){var N=this._config,y=N.titleHeight||Y.widgetTitleHeight;return y},$26d:function(e){s(e,"cursor","pointer"),s(e,"display","inline-block"),s(e,"margin-right",(V?8:4)+X),s(e,"vertical-align",S)},$27d:function(){var y=this.$30d=G(),J=10;return V&&(J=20),s(y,c,J+X),s(y,K,J+X),s(y,x,k),s(y,T,C),s(y,h,C),y[U]="resize-area",y},$15d:function(){var k=this,f=z();f[U]="dialog-title-control dialog-title-control-icon";var B=k.$25d(),S=k.$24d();return k.$26d(f),u.setCanvas(f,S,B),f},$17d:function(){var _=z();_[U]="dialog-title-control dialog-title-control-maximize";var W=this.$25d(),e=this.$24d();return this.$26d(_),u.setCanvas(_,e,W),_},$19d:function(){var A=z();A[U]="dialog-title-control dialog-title-control-close";var X=this.$25d(),N=this.$24d();return this.$26d(A),u.setCanvas(A,N,X),A},$28d:function(){var $=G();return s($,y,Y.dialogContentBackground||"white"),s($,c,"100%"),s($,K,"100%"),s($,x,"relative"),$},$29d:function(){var e=this,r=G();s(r,"line-height",32+X),s(r,x,k),s(r,T,C),s(r,W,C),s(r,"white-space","nowrap"),s(r,"overflow","hidden"),s(r,h,C),s(r,y,Y.dialogHeaderBackground),r[U]="dialog-container-buttons";var S=this._config,M=S.buttonsAlign||h,i=0;return s(r,"text-align",M),e.$42d=[],S.buttons.forEach(function(T){var Q=new l.widget.Button,O=Q.getView();O[U]="dialog-button "+T.className,O.buttonItem=T,e.$42d.push(Q),Q.setBorderColor(q),Q.setBackground(Y.dialogButtonBackground),Q.setSelectBackground(Y.dialogButtonSelectBackground),Q.setLabelColor(Y.dialogButtonLabelColor),s(O,x,"relative"),s(O,"display","inline-block"),s(O,"text-align",W),s(O,"height",24+X);var A=V?10:5;M===W||M===h?s(O,"margin-"+M,A+X):0===i||s(O,"margin-"+W,A+X),s(O,"vertical-align","middle");var L=Y.getTextSize(Q.getLabelFont(),T.label).width+10;Q.onClicked=function(I){T.action&&T.action.call(e,T,I)},Q.setLabel(T.label),Q.setDisabled(T.disabled),s(O,c,L+X),H(r,Q.getView()),i++}),r},setConfig:function(n){if(n){var d=this,m=d._view;d._config=n,d.action=n.action,d.clearNodes(m),n.borderWidth==q&&(n.borderWidth=5);var e=d.$23d(),x=d.$28d(),W=d.$31d(),r=d.$22d(),T=d.$20d(),w=d.$30d=d.$27d();if(H(m,e),H(m,T),H(T,x),H(x,W),H(x,r),n.buttons!=q&&n.buttons.length>0){var M=d.$29d();H(x,M)}H(T,w),n.maximized?(n.maximized=!1,d.bindingHandleWindowResize(),d.maximize(!0)):d.bindingHandleWindowResize(),d.isShowing()&&d.iv()}},hide:function(){var k=this,m=k.$21d,q=k.$41d,d=k._view;d[U]="ht-widget-dialog",a(m).duration(200).scale(.7).set(p,C).end(function(){k.onHidden&&k.onHidden(),l.Default.removeHTML(d),k.$10d.fire({kind:"hide",target:k})}),a(q).duration(200).set(p,C).end(),_(t,"resize",k.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(t){this.$41d.style.display=t?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var B=this,l=B._config,a=B.$21d;v(a,I),B.iv(),l.maximized?B.$10d.fire({kind:"maximize",target:B}):B.$10d.fire({kind:"restore",target:B})},maximize:function(P){var $=this,s=$.$21d,A=$._config;if(!A.maximized){A.maximized=!0,$.$33d(),$.$16d[U]="dialog-title-control dialog-title-control-minimize";var F=o(),M=j(),Y=A.width,l=A.height,u=i(s.style.left)||0,k=i(s.style.top)||0;$.$36d=Y,$.$37d=l,$.$34d=u,$.$35d=k;var G=P?0:200;a(s).duration(G).set(W,C).set(S,C).set(c,F+X).set(K,M+X).end(function(){$.$32d()})}},restore:function(){var C=this,e=C.$34d,E=C.$35d,O=C.$36d,t=C.$37d,$=C._config;if($.maximized&&($.maximized=!1,C.$33d(),C.$16d[U]="dialog-title-control dialog-title-control-maximize",C.isShowing()&&e!=q&&E!=q&&O!=q&&t!=q)){var h=C.$21d;a(h).duration(200).set(W,e+X).set(S,E+X).set(c,O+X).set(K,t+X).end(function(){C.$32d()})}delete C.$34d,delete C.$35d,delete C.$36d,delete C.$37d},show:function(){var d=this,E=d._view,j=d._config,_=d.$21d,R=d.$41d;j&&j.zIndex!=q&&s(E,"z-index",j.zIndex+I),l.Default.appendToScreen(E),v(_,"scale(0.7)"),s(_,p,C),d.iv(),d.validate(),d._view[U]+=" dialog-show",$(function(){a(_).duration(200).scale(1).set(p,"1").end(function(){s(_,c,_.clientWidth+X),s(_,K,_.clientHeight+X),d.onShown&&d.onShown(),d.$10d.fire({kind:"show",target:d});var W=j&&j.content;W&&W.iv&&W.iv()}),a(R).duration(200).set(p,"1").end(),J(t,"resize",d.bindingHandleWindowResize)},30)},setPosition:function(N){var k=this.$21d;k.style.left=N.x+"px",k.style.top=N.y+"px"},addEventListener:function(w,o,T){this.$10d.add(w,o,T)},removeEventListener:function(b,u){this.$10d.remove(b,u)},$38d:function(K,S,L,r){var E=u.initContext(K);u.translateAndScale(E,0,0,1),E.clearRect(0,0,L,L);var M=(L-r)/2;Y.drawStretchImage(E,Y.getImage(S),"fill",0,M,r,r),E.restore()},$33d:function(){var Z=this,B=Z._config,e=Z.$16d,y=B.maximized?Y.dialogRestoreIcon:Y.dialogMaximizeIcon;if(e&&y){var z=Z.$25d(),L=Z.$24d();Z.$38d(e,Y.getImage(y),z,L)}},$39d:function(){var z=this,G=z._config,x=z.$14d,p=G.titleIcon;if(x&&p){var v=z.$25d(),P=z.$24d();z.$38d(x,Y.getImage(p),v,P)}},$40d:function(){var o=this,X=o.$18d,P=Y.dialogCloseIcon;if(X&&P){var G=o.$25d(),E=o.$24d();o.$38d(X,Y.getImage(P),G,E)}},invalidate:function(X){var S=this,L=S.$42d;S._68I||(S._68I=1,Y.callLater(S.validate,S,q,X),S.onInvalidated&&S.onInvalidated(),S.fireViewEvent("invalidate"));var u=S._config.content;u.invalidate&&u.invalidate(),L&&L.forEach(function(c){c.iv()})},validateImpl:function(){var M=this;M.$40d(),M.$33d(),M.$39d();var x=M._config.content;x.initView&&(x.setX(0),x.setY(0),x.setWidth(M.$7d.clientWidth),x.setHeight(M.$7d.clientHeight))},adjustPosition:function(g,P,I){var x=P.width,C=P.height,o=I.width,B=I.height,r=g.x,b=g.y,M=this._config,l=M.minDragSize||20;return"inside"===M.dragMode?(r+x>o&&(r=o-x),b+C>B&&(b=B-C),0>r&&(r=0),0>b&&(b=0)):(null==M.dragMode||"none"===M.dragMode)&&(-x+l>r&&(r=-x+l),r>o-l&&(r=o-l),b>B-l&&(b=B-l),0>b&&(b=0)),{x:r,y:b}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);