!function($,F,_){"use strict";function f(){var b=[],R=[];return function(){return 0===arguments.length?R.join("")+h.apply(String,b):(b.length+arguments.length>1024&&(R.push(h.apply(String,b)),b.length=0),Array.prototype.push.apply(b,arguments),void 0)}}function j(d,A,p,g,M){var L,Q,S=8*M-g-1,b=(1<<S)-1,s=b>>1,X=-7,n=p?M-1:0,o=p?-1:1,k=d[A+n];for(n+=o,L=k&(1<<-X)-1,k>>=-X,X+=S;X>0;L=256*L+d[A+n],n+=o,X-=8);for(Q=L&(1<<-X)-1,L>>=-X,X+=g;X>0;Q=256*Q+d[A+n],n+=o,X-=8);if(0===L)L=1-s;else{if(L===b)return Q?0/0:1/0*(k?-1:1);Q+=Math.pow(2,g),L-=s}return(k?-1:1)*Q*Math.pow(2,L-g)}var o="ht",V=$[o],D=null,k=Math,t=k.abs,R=k.max,c=Number.MAX_VALUE,d=V.Default,s=d.getInternal(),C=d.clone,Q=s.vec3TransformMat4,e=[0,0],u=s.appendArray,i=function(){function q(t,e,n,F){if(t){var T=t[F];if(T){n.ignoreColor||(e.color=T.kd),!n.ignoreTransparent&&T.d>0&&T.d<1&&(e.transparent=!0,e.opacity=T.d);var R;if(!n.ignoreImage&&(R=T.map_kd)){R=R.split(" ");for(var P=-1,z=0;z<R.length;z++)"-o"===R[z]?(e.uvOffset=[parseFloat(R[z+1]),parseFloat(R[z+2])],z+=3,P=z):"-s"===R[z]&&(e.uvScale=[parseFloat(R[z+1]),parseFloat(R[z+2])],z+=3,P=z);e.image=(n.prefix||"")+R.splice(P+1).join(" ")}}}}var P=/v( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,N=/vt( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,G=/vn( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,K=/^[og]\s*(.+)?/,S=function(t,l){return l=parseInt(l),l>=0?t[l-1]:t[l+t.length]},A=function(A,U,t,X,i){if(A.lvs){var l=S(U,X),a=S(U,i),I=t.matrix,d=A.lvs;I?(u(d,Q(C(l),I)),u(d,Q(C(a),I))):(u(d,l),u(d,a))}},W=function(T,z,L,h,l,v){if(T.vs){var e=S(z,h),x=S(z,l),H=S(z,v),w=L.matrix,B=T.vs;if(L.flipFace){var i=x;x=H,H=i}w?(u(B,Q(C(e),w)),u(B,Q(C(x),w)),u(B,Q(C(H),w))):(u(B,e),u(B,x),u(B,H))}},g=function(U,M,k,a,L,E){if(U.vs){var c=k.flipY,G=a===_?e:S(M,a),r=L===_?e:S(M,L),y=E===_?e:S(M,E);if(k.flipFace){var Z=r;r=y,y=Z}U.uv.push(G[0],c?1-G[1]:G[1],r[0],c?1-r[1]:r[1],y[0],c?1-y[1]:y[1])}},X=function(F,B,i,O,p,W){if(F.vs){var Z=S(B,O),L=S(B,p),Y=S(B,W),H=i.normalMatrix,D=F.ns;if(i.flipFace){var N=L;L=Y,Y=N}H?(u(D,Q(C(Z),H)),u(D,Q(C(L),H)),u(D,Q(C(Y),H))):(u(D,Z),u(D,L),u(D,Y))}},v=function(S,y,$,c){for(var D=c.length-1,B=0;D>B;++B)A(S,y,$,c[B],c[B+1]);A(S,y,$,c[D],c[0])},Y=function(l,d,z,C,m,O,T,r){var D=C&&C.length&&r;O[3]===_?(W(l,d,m,O[0],O[1],O[2]),T?g(l,z,m,T[0],T[1],T[2]):l.uv&&l.uv.length&&g(l,z,m),D&&X(l,C,m,r[0],r[1],r[2])):(W(l,d,m,O[0],O[1],O[3]),W(l,d,m,O[1],O[2],O[3]),T?(g(l,z,m,T[0],T[1],T[3]),g(l,z,m,T[1],T[2],T[3])):l.uv&&l.uv.length&&(g(l,z,m),g(l,z,m)),D&&(X(l,C,m,r[0],r[1],r[3]),X(l,C,m,r[1],r[2],r[3])))},m=function(A,D,a,x){var E,C,d,q,y,h,F,z,$=c,m=c,W=c,p=-c,w=-c,L=-c;for(E in A)for(h=A[E].vs,z=h.length,C=0;z>C;C+=3)d=h[C+0],q=h[C+1],y=h[C+2],$>d&&($=d),m>q&&(m=q),W>y&&(W=y),d>p&&(p=d),q>w&&(w=q),y>L&&(L=y);var g;if(a){var r=$+(p-$)/2,X=m+(w-m)/2,k=W+(L-W)/2;for(E in A){for(h=A[E].vs,z=h.length,C=0;z>C;C+=3)h[C+0]-=r,h[C+1]-=X,h[C+2]-=k;if(F=A[E].lvs)for(z=F.length,C=0;z>C;C+=3)F[C+0]-=r,F[C+1]-=X,F[C+2]-=k}g=[r,X,k]}var u,K,f;a?(u=p-$,K=w-m,f=L-W):(u=2*R(t($),t(p)),K=2*R(t(m),t(w)),f=2*R(t(W),t(L))),0===u&&(u=Math.min(K,f)/1e3||.001),0===K&&(K=Math.min(u,f)/1e3||.001),0===f&&(f=Math.min(u,K)/1e3||.001),x.rawS3=[u,K,f];for(E in A){if(h=A[E].vs,F=A[E].lvs,D){for(z=h.length,C=0;z>C;C+=3)u&&(h[C+0]/=u),K&&(h[C+1]/=K),f&&(h[C+2]/=f);if(F)for(z=F.length,C=0;z>C;C+=3)u&&(F[C+0]/=u),K&&(F[C+1]/=K),f&&(F[C+2]/=f);var I=A[E].ns;if(I){z=I.length;var e=new V.Math.Vector3;for(C=0;z>C;C+=3)e.set(I[C+0]*u,I[C+1]*K,I[C+2]*f).normalize(),I[C+0]=e.x,I[C+1]=e.y,I[C+2]=e.z}}A[E].rawS3=x.rawS3,g&&(A[E].center=g)}};return function(I,H,e){if(!I)return D;(s.isString(H)||H instanceof ArrayBuffer)&&(H=B(H)),e||(e={}),e.flipY==D&&(e.flipY=!0),(e.s3||e.r3||e.t3||e.mat)&&(e.matrix=s.createWorldMatrix(e.mat,e.s3,e.r3,e.rotationMode,e.t3));var O,u,Z,g,f=V.Style["wf.loadQuadWireframe"],R=[],T=[],c=e.ignoreNormal?D:[],n=e.reverseFlipMtls,U={vs:[],uv:[],ns:c?[]:D},M={htdefault:U},w=new x(I),t="",h="";for(c&&e.matrix&&(e.normalMatrix=s.createNormalMatrix(e.matrix));null!=(u=w.stepNext());)if(u=u.trim(),0!==u.length&&"#"!==u.charAt(0))if(u.indexOf("\\")!==u.length-1){if(t&&(u=t+u,t=""),u.indexOf("#QNAN0")>=0&&(u=u.replace(/#QNAN0/gi,"0")),Z=P.exec(u))R.push([parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]);else if(Z=N.exec(u))T.push([parseFloat(Z[1]),parseFloat(Z[2])]);else if(c&&(Z=G.exec(u)))e.flipFace?c.push([parseFloat(-Z[1]),parseFloat(-Z[2]),parseFloat(-Z[3])]):c.push([parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]);else if("f"===u[0]){var L=u.split(/\s+/);if(L.length<4)continue;var S,O,C,Q=[],k=[],p=[];for(O=1,C=L.length;C>O;O++)S=L[O].split("/"),Q.push(parseInt(S[0],10)),S.length>1&&S[1].length>0&&p.push(parseInt(S[1],10)),S.length>2&&S[2].length>0&&k.push(parseInt(S[2],10));for(O=0,C=Q.length-2;C>O;O++)Y(U,R,T,c,e,[Q[0],Q[O+1],Q[O+2]],p.length?[p[0],p[O+1],p[O+2]]:D,k.length?[k[0],k[O+1],k[O+2]]:D);f&&v(U,R,e,Q)}else if(e.part&&null!==(Z=K.exec(u)))h=(" "+Z[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(u)){var i=u.substring(7).trim();i.split(" ").forEach(function(P){var T=e.part?h+"_"+P:P;(U=M[T])||(U=M[T]={name:T,vs:[],uv:[],ns:c?[]:D,lvs:f?[]:D},e.ignoreMtls&&e.ignoreMtls.indexOf(P)>=0&&delete U.vs,(e.reverseFlip||"*"===n||n&&n.indexOf(P)>=0)&&(U.reverseFlip=!0),q(H,U,e,P))})}}else t+=u.substring(0,u.length-1);var $=[];for(var F in M){var W=M[F].vs;if(W&&0!==W.length){var A=M[F].uv;if(A)for(var y=2*W.length/3-A.length;y-->0;)A.push(0)}else $.push(F)}$.forEach(function(A){delete M[A]}),m(M,e.cube,e.center,e);var l=e.shape3d;if(l){var E=[];for(var g in M){var U=M[g];E.rawS3=U.rawS3,U.center&&(E.center=U.center),E.push(U)}d.setShape3dModel(l,E)}return M}}(),B=function(t){var Y={};if(t)for(var F,I,M,K,c,n,r=new x(t),E=/\s+/;null!=(I=r.stepNext());)I=I.trim(),0!==I.length&&"#"!==I.charAt(0)&&(M=I.indexOf(" "),K=(M?I.substring(0,M):I).toLowerCase(),c=(M?I.substring(M+1):"").trim(),"newmtl"===K?Y[c]=F={name:c}:F&&("ka"===K||"kd"===K||"ks"===K?(n=c.split(E,3),F[K]=[parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),1]):F[K]="ns"===K||"d"===K?parseFloat(c):c));return Y},x=function(l){var z=this;if(l instanceof ArrayBuffer){z.isBuffer=!0;var _=0,S=new Uint8Array(l),T=S.length,M=S.length;z.stepNext=function(){for(var u,Q,R=_;T>_;)if(u=S[_],Q=u>>4,12===Q||13==Q)_+=2;else if(14===Q)_+=3;else if(_++,10===u)return String.fromCharCode.apply(null,S.subarray(R,_));return _>R?String.fromCharCode.apply(null,S.subarray(R,_)):null}}else{z.isBuffer=!1;var k=l.split("\n"),m=0,M=k.length;z.stepNext=function(){return M>m?k[m++]:null}}};x.prototype={},x.prototype.constructor=x,s.addMethod(d,{loadObj:function(u,x,f){f=f||{};var p=!1;/(MSIE |Trident\/|Edge\/)/.test($.navigator.userAgent)&&(p=!0);var c=function(R){var D,M=f.finishFunc,k=f.shape3d,O=R?i(R[0],R[1],f):null;if(O){if(k)D=d.getShape3dModel(k);else{D=[];for(var Y in O){var q=O[Y];D.rawS3=q.rawS3,D.push(q)}}M&&M(O,D,D.rawS3)}else M&&M(null)};if(p){f.responseType="arraybuffer";var G=function(U){d.xhrLoad(u,function(t){c([t,U])},f)};x?d.xhrLoad(x,function(g){G(g)},f):G()}else d.xhrLoad(x?[u,x]:[u],c,f)},parseObj:function(s,S,C){return i(s,S,C)}});var G=V.ByteBuffer=function(Z,i,d){if("undefined"==typeof Z&&(Z=G.DEFAULT_CAPACITY),"undefined"==typeof i&&(i=G.DEFAULT_ENDIAN),"undefined"==typeof d&&(d=G.DEFAULT_NOASSERT),!d){if(Z=0|Z,0>Z)throw RangeError("Illegal capacity");i=!!i,d=!!d}this.buffer=0===Z?I:new ArrayBuffer(Z),this.view=0===Z?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=Z,this.littleEndian=i,this.noAssert=d},I=new ArrayBuffer(0);G.LITTLE_ENDIAN=!0,G.BIG_ENDIAN=!1,G.DEFAULT_CAPACITY=16,G.DEFAULT_ENDIAN=G.BIG_ENDIAN,G.DEFAULT_NOASSERT=!1,G.METRICS_BYTES="b";var h=String.fromCharCode,L=G.prototype;L.readUint8=function(l){var r="undefined"==typeof l;if(r&&(l=this.offset),!this.noAssert){if("number"!=typeof l||0!==l%1)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,0>l||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+"+1+") <= "+this.buffer.byteLength)}var V=this.view[l];return r&&(this.offset+=1),V},L.readUint16=function(B){var x="undefined"==typeof B;if(x&&(B=this.offset),!this.noAssert){if("number"!=typeof B||0!==B%1)throw TypeError("Illegal offset: "+B+" (not an integer)");if(B>>>=0,0>B||B+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+B+" (+"+2+") <= "+this.buffer.byteLength)}var O=0;return this.littleEndian?(O=this.view[B],O|=this.view[B+1]<<8):(O=this.view[B]<<8,O|=this.view[B+1]),x&&(this.offset+=2),O},L.readUint24=function(G){var x="undefined"==typeof G;if(x&&(G=this.offset),!this.noAssert){if("number"!=typeof G||0!==G%1)throw TypeError("Illegal offset: "+G+" (not an integer)");if(G>>>=0,0>G||G+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+G+" (+"+4+") <= "+this.buffer.byteLength)}var U=0;return this.littleEndian?(U=this.view[G+2]<<16,U|=this.view[G+1]<<8,U|=this.view[G]):(U=this.view[G+1]<<8,U|=this.view[G+2],U+=this.view[G]<<16>>>0),U|=0,x&&(this.offset+=3),U},L.readUint32=function(x){var T="undefined"==typeof x;if(T&&(x=this.offset),!this.noAssert){if("number"!=typeof x||0!==x%1)throw TypeError("Illegal offset: "+x+" (not an integer)");if(x>>>=0,0>x||x+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+x+" (+"+4+") <= "+this.buffer.byteLength)}var t=0;return this.littleEndian?(t=this.view[x+2]<<16,t|=this.view[x+1]<<8,t|=this.view[x],t+=this.view[x+3]<<24>>>0):(t=this.view[x+1]<<16,t|=this.view[x+2]<<8,t|=this.view[x+3],t+=this.view[x]<<24>>>0),T&&(this.offset+=4),t},L.readFloat32=function(H){var y="undefined"==typeof H;if(y&&(H=this.offset),!this.noAssert){if("number"!=typeof H||0!==H%1)throw TypeError("Illegal offset: "+H+" (not an integer)");if(H>>>=0,0>H||H+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+H+" (+"+4+") <= "+this.buffer.byteLength)}var t=j(this.view,H,this.littleEndian,23,4);return y&&(this.offset+=4),t};var N=function(){var g={};return g.MAX_CODEPOINT=1114111,g.decodeUTF8=function(A,y){for(var w,a,m,i,p=function(u){u=u.slice(0,u.indexOf(null));var w=Error(u.toString());throw w.name="TruncatedError",w.bytes=u,w};null!==(w=A());)if(0===(128&w))y(w);else if(192===(224&w))null===(a=A())&&p([w,a]),y((31&w)<<6|63&a);else if(224===(240&w))(null===(a=A())||null===(m=A()))&&p([w,a,m]),y((15&w)<<12|(63&a)<<6|63&m);else{if(240!==(248&w))throw RangeError("Illegal starting byte: "+w);(null===(a=A())||null===(m=A())||null===(i=A()))&&p([w,a,m,i]),y((7&w)<<18|(63&a)<<12|(63&m)<<6|63&i)}},g.UTF16toUTF8=function(R,V){for(var U,o=null;;){if(null===(U=null!==o?o:R()))break;U>=55296&&57343>=U&&null!==(o=R())&&o>=56320&&57343>=o?(V(1024*(U-55296)+o-56320+65536),o=null):V(U)}null!==o&&V(o)},g.UTF8toUTF16=function(z,p){var X=null;for("number"==typeof z&&(X=z,z=function(){return null});null!==X||null!==(X=z());)65535>=X?p(X):(X-=65536,p((X>>10)+55296),p(X%1024+56320)),X=null},g.decodeUTF8toUTF16=function(L,p){g.decodeUTF8(L,function(d){g.UTF8toUTF16(d,p)})},g.calculateCodePoint=function(K){return 128>K?1:2048>K?2:65536>K?3:4},g.calculateUTF8=function(n){for(var Q,L=0;null!==(Q=n());)L+=128>Q?1:2048>Q?2:65536>Q?3:4;return L},g.calculateUTF16asUTF8=function(s){var F=0,j=0;return g.UTF16toUTF8(s,function(n){++F,j+=128>n?1:2048>n?2:65536>n?3:4}),[F,j]},g}();L.readString=function(H,b,W){"number"==typeof b&&(W=b,b=_);var d="undefined"==typeof W;if(d&&(W=this.offset),"undefined"==typeof b&&(b=G.METRICS_CHARS),!this.noAssert){if("number"!=typeof H||0!==H%1)throw TypeError("Illegal length: "+H+" (not an integer)");if(H|=0,"number"!=typeof W||0!==W%1)throw TypeError("Illegal offset: "+W+" (not an integer)");if(W>>>=0,0>W||W+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+W+" (+"+0+") <= "+this.buffer.byteLength)}var T,t=0,m=W;if(b===G.METRICS_CHARS){if(T=f(),N.decodeUTF8(function(){return H>t&&W<this.limit?this.view[W++]:null}.bind(this),function(d){++t,N.UTF8toUTF16(d,T)}),t!==H)throw RangeError("Illegal range: Truncated data, "+t+" == "+H);return d?(this.offset=W,T()):{string:T(),length:W-m}}if(b===G.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof W||0!==W%1)throw TypeError("Illegal offset: "+W+" (not an integer)");if(W>>>=0,0>W||W+H>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+W+" (+"+H+") <= "+this.buffer.byteLength)}var o=W+H;if(N.decodeUTF8toUTF16(function(){return o>W?this.view[W++]:null}.bind(this),T=f(),this.noAssert),W!==o)throw RangeError("Illegal range: Truncated data, "+W+" == "+o);return d?(this.offset=W,T()):{string:T(),length:W-m}}throw TypeError("Unsupported metrics: "+b)};var Y=function(V){if(V){var k=new G(0);k.buffer=V,k.limit=V.byteLength,k.view=V.byteLength>0?new Uint8Array(V):null;var y=[];return U(y,k),Z(y,k),m(y,k),y}},U=function(J,y){y.offset+=19},Z=function(n,U){var X=U.readUint8();1&X&&(n.center=P(U)),2&X&&(n.rawS3=P(U))},O=function(g){return[g.readFloat32(),g.readFloat32()]},P=function(v){return[v.readFloat32(),v.readFloat32(),v.readFloat32()]},n=function(O){var Q=O.readUint32();return O.readString(Q,G.METRICS_BYTES)},m=function(y,e){for(var K=e.readUint8(),w=0;K>w;w++)y.push(p(e))},p=function(Q){var j={},d=Q.readUint32(),F=0,A=d&1<<F++,M=d&1<<F++,Z=d&1<<F++,k=d&1<<F++,z=d&1<<F++,x=d&1<<F++,s=d&1<<F++,V=d&1<<F++,u=d&1<<F++,X=d&1<<F++,C=d&1<<F++,K=d&1<<F++;return(A||M)&&v(j,Q,3,"vs","lvs"),Z&&v(j,Q,2,"uv"),k&&v(j,Q,3,"ns"),z&&(j.name=n(Q)),x&&(j.color=P(Q)),s&&(j.transparent=!!Q.readUint8()),V&&(j.opacity=Q.readFloat32()),u&&(j.uvoffset=O(Q)),X&&(j.uvScale=P(Q)),C&&(j.image=n(Q)),K&&(j.reverseFlip=!!Q.readUint8()),j},M=16383,W=function(k){var a=k.readUint16(),z=16384&a,n=32768&a,o=(a&M)/M,H=0;return n&&(H=k.readUint16()),(z?1:-1)*(H+o)},g=function(p){var R=p.readUint32(),w=R&1<<30,o=R&1<<29,I=R&1<<28,v=16383,Q=(16383&R>>14)/v,d=(16383&R)/v,t=Math.sqrt(1-Q*Q-d*d)||0;return[Q*(w?1:-1),d*(o?1:-1),t*(I?1:-1)]},v=function(F,z,M,l,v){var c=z.readUint32();z.readUint8();var o,r,j,u=z.readUint32(),E=z.readUint32(),d=[];if("uv"===l)for(o=0;c>o;o++)r=W(z),j=W(z),d.push([r,j]);else if("ns"===l)for(o=0;c>o;o++)d.push(g(z));else for(var o=0;c>o;o++)d.push(P(z));var L;L=256>c?"readUint8":65536>c?"readUint16":16777216>c?"readUint24":"readUint32";var I,t,p;if(u)for(I=F[l]=[],o=0;u>o;o++)t=z[L](),p=d[t],"uv"===l?I.push(p[0],p[1]):I.push(p[0],p[1],p[2]);if(E)for(I=F[v]=[],o=0;E>o;o++)t=z[L](),p=d[t],I.push(p[0],p[1],p[2])};d.getInternal().addMethod(d,{loadBin:function(E,i){i=i||{};var v=function(j){var A,p=i.finishFunc,L=i.shape3d,z=j?Y(j):null;if(z){if(L)A=d.getShape3dModel(L);else{A=[];for(var Z in z){var J=z[Z];A.rawS3=J.rawS3,A.push(J)}}p&&p(z,A,A.rawS3)}else p&&p(null)};i.responseType="arraybuffer",d.xhrLoad(E,function(i){v(i)},i)},parseBin:function(G){return Y(G)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);